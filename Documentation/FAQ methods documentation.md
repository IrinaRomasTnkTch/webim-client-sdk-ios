<h2>Как использовать</h2>
<ul>
<li>Получить <em><strong>FAQBuilder</strong></em> с помощью статичного метода <em><strong>Webim.newFAQBuilder()</strong></em>;</li>
<li>Установить название аккаунта с помощью метода <strong><em>set(accountName:) </em></strong>экземляра класса&nbsp;<em><strong>FAQBuilder</strong></em><strong><em></em></strong>;</li>
<li>Получить экземпляр протокола <em><strong>FAQ</strong></em> с помощью метода <strong><em>build()</em></strong>&nbsp;экземляра класса <em><strong>FAQBuilder</strong></em>;</li>
<li>Для возможности обращения к серверу необходимо вызывать метод <em><strong>resume()</strong></em> экземпляра класса <strong><em>FAQ</em></strong>;</li>
<li>Далее можно вызывать все методы протокола&nbsp;<em><strong>FAQ</strong></em>.</li>
</ul>
<p>Пример использования:</p>
<p><span><b>do</b></span> {</p>
<p><span class="Apple-converted-space">&nbsp; &nbsp; </span><span><b>let</b></span> faq = <span><b>try</b></span> <span>Webim</span>.<span>newFAQBuilder</span>().<span>set</span>(accountName: <span>"123"</span>).<span>build</span>()</p>
<p><span class="Apple-converted-space">&nbsp; &nbsp; </span><span><b>try</b></span> faq.<span>resume</span>()</p>
<p>} <span><b>catch</b></span> {</p>
<p>}</p>

<h2>метод newFAQBuilder() класса Webim</h2>
Метод, необходимый для получения объекта FAQBuilder, который в свою очередь необходим для создания экземпляра класса FAQ.


<h2>класс FAQBuilder</h2>
Класс, экземпляр которого используется для получения экземпляра класса FAQSession. Экземпляр класса получается методом newFAQBuilder() класса Webim.
<h3>метод экземпляра set(accountName:)</h3>
Метод необходим для задания названия аккаунта в системе Webim при создании блока часто задаваемых вопросов.

Параметр accountName – название аккаунта клиента в системе Webim. Обычно представляет из себя URL-сервера (например, https://demo.webim.ru), но может иметь и вид названия аккаунта одним словом (например, «demo»), если сервер находится в домене webim.ru. Тип параметра – String.

Возвращает тот же экземпляр класса FAQBuilder, но с установленным названием аккаунта.

Для получения экземпляра FAQ вызов метода является обязательным.

<h3>метод экземпляра build()</h3>
Метод, который вызывается в заключение перечисленных выше методов для получения экземпляра FAQ.

Возвращает объект FAQ с установленными параметрами с помощью остальных методов экземпляра класса.

Может выбрасывать ошибки типа FAQBuilderError.

Требует вызова методов set(accountName:). Также предварительно могут быть вызваны и любые другие (в любом порядке и сочетании) методы экземпляра класса FAQBuilder.


<h2>перечисляемый тип FAQBuilderError</h2>
Значение типа соответствуют возможным ошибкам, которые могут возникнуть при вызове метода build() класса FAQBuilder.

<h3>случай NIL_ACCOUNT_NAME</h3>
Возникает, когда при создании блока часто задаваемых вопросов не было передано значение названия аккаунта (или это значение nil).

<h2>протокол FAQ</h2>
Протокол, позволяющий производить манипуляции с текущим списком часто задаваемых вопросов.

Экземпляр класса FAQ получается с помощью методов класса FAQBuilder.

<h3>метод экземпляра resume()</h3>
При создании экземпляра класса FAQ, соответствующий ему список часто задаваемых вопросов находится в приостановленном состоянии. Данный метод необходим для того, чтобы стартовать сетевую активность.

Может выбрасывать ошибки типа FAQAccessError.

Необходим для полноценного функционирования сервиса в контексте приложения.


<h3>метод экземпляра pause()</h3>
Метод, который используется для приостановки сетевой активности. Если список часто задаваемых вопросов уже находится в приостановленном состоянии, метод не производит никаких действий.

Может выбрасывать ошибки типа FAQAccessError.

Для вызова метода список часто задаваемых вопросов не должен находиться в деактивированном состоянии.


<h2>метод экземпляра destroy()</h2>

Метод, который используется для деактивации списка часто задаваемых вопросов и экземпляра класса. После вызова данного метода, никакие методы использованы быть не могут.

Может выбрасывать ошибки типа FAQAccessError.


<h3>метод экземпляра getCategory(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQCategory через completion. Если запрос завершился с ошибкой, то полученная категория будет равна nil.

Параметр id – ID категории блока часто задаваемых вопросов. Тип – Int.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQCategory и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getCategoriesFor(application:language:departmentKey:completion:)</h3>
Метод, который используется для получения массива идентификаторов категорий, подходящих для заданных параметров, через completion. Если запрос завершился с ошибкой, то полученный массив будет пустой.

Параметр application – название приложения. Тип – String.

Параметр language – язык. Тип – String.

Параметр departmentKey – ключ отдела. Тип – String.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит массив идентификаторов категорий и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError.

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getCachedCategory(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQCategory через completion из сохранённого кэша. Если запрос завершился с ошибкой, то полученная категория будет равна nil.

Параметр id – ID категории блока часто задаваемых вопросов. Тип – Int.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQCategory и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getItem(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQItem через completion. Если запрос завершился с ошибкой, то полученная страница будет равна nil.

Параметр id – ID страница блока часто задаваемых вопросов. Тип – String.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQItem и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getStructure(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQStructure через completion. Если запрос завершился с ошибкой, то полученное дерево (структура) будет равно nil.

Параметр id – ID вершины, которая будет корнем дерева (структуры) блока часто задаваемых вопросов. Тип – Int.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQStructure и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра like(item:)</h3>
Метод, который позволяет поставить отметку "нравится" для статьи.

Параметр item – страница, которой необходимо поставить оценку. Тип – FAQItem.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра dislike(item:)</h3>
Метод, который позволяет поставить отметку "не нравится" для статьи.

Параметр item – страница, которой необходимо поставить оценку. Тип – FAQItem.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра search(query:category:limitOfItems:completion:)</h3>
Метод, который позволяет найти статьи по ключевому слову.

Параметр query – запрос, по которому осуществляется поиск. Тип – String.

Параметр category – id категории, в которой осуществляется поиск. Тип – Int.

Параметр limitOfItems – число, не больше которого нужно вернуть статей.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа массив FAQSearchItem и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().


<h2>перечисляемый тип FAQAccessError</h2>
Значение типа соответствуют ошибкам, которые могут выбрасываться некоторыми методами протоколов FAQ.

<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 16.225165562913908%;">
<p>INVALID_THREAD</p>
</td>
<td style="width: 83.7748344370861%;">
<p>Возникает, когда метод был вызван не из потока, в котором был создан экземпляр блока часто задаваемых вопросов.</p>
</td>
</tr>
<tr>
<td style="width: 16.225165562913908%;">
<p>INVALID_SESSION</p>
</td>
<td style="width: 83.7748344370861%;">
<p>Возникает при попытке использования методов недействительного экземпляра FAQ (например, после того, как на нем был вызван метод destroy()).</p>
</td>
</tr>
</tbody>
</table>
<p></p>

<h2>протокол FAQCategory</h2>
Представление категории блока часто задаваемых вопросов. Предоставляет методы получения информации о категории.

Объекты FAQCategory могут быть получены с помощью completion в методе getCategory(id:completion)

<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор категории. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок категории. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getItems()</h3>
Категория содержит страницы блока часто задаваемых вопросов.

Не принимает параметров.

Возвращает страницы, принадлежащих категории. Тип – [FAQItem].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getSubcategories()</h3>
Категория содержит подкатегории. Для удобства данный метод возвращает информацию о подкатегориях без её страниц и подкатегорий.

Не принимает параметров.

Возвращает информацию о подкатегориях, принадлежащих категории. Тип – [FAQCategoryInfo].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h2>протокол FAQCategoryInfo</h2>
Представление информации о категории блока часто задаваемых вопросов. Предоставляет методы получения идентификатора и заголовка категории.

Объекты FAQCategoryInfo могут быть получены с помощью метода getSubcategories().

<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор категории. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок категории. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>протокол FAQItem</h3>
Представление страницы блока часто задаваемых вопросов. Предоставляет методы получения информации о странице.

Объекты FAQItem могут быть получены с completion функции getItem(id:completion:).

<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getCategories()</h3>
Страница может принадлежать нескольким категориям.

Не принимает параметров.

Возвращает идентификаторы категорий, которым принадлежи страница. Тип – [Int].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTags()</h3>
У страницы есть набор тэгов.

Не принимает параметров.

Возвращает список тэгов, которыми отмечена страница. Тип – [String].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getContent()</h3>
Не принимает параметров.

Возвращает содержание страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getLikeCount()</h3>
Страница содержит количество отметок "Нравится".

Не принимает параметров.

Возвращает количество отметок "Нравится" страницы. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getDislikeCount()</h3>
Страница содержит количество отметок "Не нравится".

Не принимает параметров.

Возвращает количество отметок "Не нравится" страницы. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getUserRate()</h3>
Страница может быть отмечена пользователем.

Возварщает оценку пользователя. Тип – UserRate.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h2>перечисляемый тип UserRate</h2>
Страница может быть отмечена пользователем.

<table border="1" style="border-collapse: collapse; width: 47.30787803532008%; height: 54px;">
<tbody>
<tr style="height: 18px;">
<td style="width: 8.719646799117001%; height: 18px;">LIKE</td>
<td style="width: 38.59130842271465%; height: 18px;">
<p>Пользователю понравилась страница.</p>
</td>
</tr>
<tr style="height: 18px;">
<td style="width: 8.719646799117001%; height: 18px;">DISLIKE</td>
<td style="width: 38.59130842271465%; height: 18px;">
<p>Пользователю не понравилась страница.</p>
</td>
</tr>
<tr style="height: 18px;">
<td style="width: 8.719646799117001%; height: 18px;">NO_RATE</td>
<td style="width: 38.59130842271465%; height: 18px;">
<p>Страница не оценена пользователем.</p>
</td>
</tr>
</tbody>
</table>
<p></p>

<h2>протокол FAQSearchItem</h2>
Краткая информация о страницах, полученных в результате поиска по ключевому слову.

<h3>метод getID()</h3>
Не принимает параметров.

Возвращает идентификатор страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getScore()</h3>
У страницы есть оценка поиска. Чем больше оценка, тем больше страница подходит под поисковой запрос.

Не принимает параметров.

Возвращает оценку поиска. Тип – Double.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h2>протокол FAQStructure</h2>
Представление дерева (структуры) блока часто задаваемых вопросов. Предоставляет методы получения информации о дереве блока часто задаваемых вопросов.

Объекты FAQStructure могут быть получены с помощью completion метода getStructure(id:completion).

<h3>метод getId()</h3>
У дерева есть корневой элемент.

Не принимает параметров.

Возвращает идентификатор корневого элемента дерева. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок корня. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getType()</h3>
Корень дерева может быть категорией или страницей.

Не принимает параметров.

Возвращает тип корневого элемента. Тип – RootType.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getChildren()</h3>
Не принимает параметров.

Возвращает поддеревья, корнями которых являются прямые потомки корня дерева (структуры). Тип – [FAQStructure].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>перечисляемый тип RootType</h2>
Возможные типы корня дерева блока часто задаваемых вопросов (см. метод getType() протокола FAQStructure).

<table border="1" style="border-collapse: collapse; width: 68.98454746136865%;">
<tbody>
<tr>
<td style="width: 15.2317880794702%;">ITEM</td>
<td style="width: 53.752759381898464%;">
<p>Корень дерева является страницей.</p>
</td>
</tr>
<tr>
<td style="width: 15.2317880794702%;">CATEGORY</td>
<td style="width: 53.752759381898464%;">
<p>Корень дерева является категорией.</p>
</td>
</tr>
<tr>
<td style="width: 15.2317880794702%;">UNKNOWN</td>
<td style="width: 53.752759381898464%;">
<p>Корень дерева имеет неизвестный тип для данной версии SDK.</p>
</td>
</tr>
</tbody>
</table>
<pre><span>&nbsp;</span></pre>
