<h2>С чего начать.</h2>
Для работы с блоком часто задаваемых вопросов (FAQ), необходимо вызвать метод Webim.newFAQBuilder() для получения экземпляра класса FAQBuilder. С помощью метода set(accountName:) необходимо установить имя аккаунта. Метод faqBuilder.build() вернёт экземпляр класса FAQ. После вызова метода faq.resume() можно начинать работать с получением необходимых структур.


<h2>метод newFAQBuilder() класса Webim</h2>
Метод, необходимый для получения объекта FAQBuilder, который в свою очередь необходим для создания экземпляра класса FAQ.


<h2>класс FAQBuilder</h2>
Класс, экземпляр которого используется для получения экземпляра класса FAQSession. Экземпляр класса получается методом newFAQBuilder() класса Webim.
<h3>метод экземпляра set(accountName:)</h3>
Метод необходим для задания названия аккаунта в системе Webim при создании блока часто задаваемых вопросов.

Параметр accountName – название аккаунта клиента в системе Webim. Обычно представляет из себя URL-сервера (например, https://demo.webim.ru), но может иметь и вид названия аккаунта одним словом (например, «demo»), если сервер находится в домене webim.ru. Тип параметра – String.

Возвращает тот же экземпляр класса FAQBuilder, но с установленным названием аккаунта.

Для получения экземпляра FAQ вызов метода является обязательным.

<h3>метод экземпляра build()</h3>
Метод, который вызывается в заключение перечисленных выше методов для получения экземпляра FAQ.

Возвращает объект FAQ с установленными параметрами с помощью остальных методов экземпляра класса.

Может выбрасывать ошибки типа FAQBuilderError.

Требует вызова методов set(accountName:). Также предварительно могут быть вызваны и любые другие (в любом порядке и сочетании) методы экземпляра класса FAQBuilder.


<h2>перечисляемый тип FAQBuilderError</h2>
Значение типа соответствуют возможным ошибкам, которые могут возникнуть при вызове метода build() класса FAQBuilder.

<h3>случай NIL_ACCOUNT_NAME</h3>
Возникает, когда при создании блока часто задаваемых вопросов не было передано значение названия аккаунта (или это значение nil).

<h2>протокол FAQ</h2>
Протокол, позволяющий производить манипуляции с текущим списком часто задаваемых вопросов.

Экземпляр класса FAQ получается с помощью методов класса FAQBuilder.

<h3>метод экземпляра resume()</h3>
При создании экземпляра класса FAQ, соответствующий ему список часто задаваемых вопросов находится в приостановленном состоянии. Данный метод необходим для того, чтобы стартовать сетевую активность.

Может выбрасывать ошибки типа FAQAccessError.

Необходим для полноценного функционирования сервиса в контексте приложения.


<h3>метод экземпляра pause()</h3>
Метод, который используется для приостановки сетевой активности. Если список часто задаваемых вопросов уже находится в приостановленном состоянии, метод не производит никаких действий.

Может выбрасывать ошибки типа FAQAccessError.

Для вызова метода список часто задаваемых вопросов не должен находиться в деактивированном состоянии.


<h2>метод экземпляра destroy()</h2>

Метод, который используется для деактивации списка часто задаваемых вопросов и экземпляра класса. После вызова данного метода, никакие методы использованы быть не могут.

Может выбрасывать ошибки типа FAQAccessError.


<h3>метод экземпляра getCategory(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQCategory через completion. Если запрос завершился с ошибкой, то полученная категория будет равна nil.

Параметр id – ID категории блока часто задаваемых вопросов. Тип – Int.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQCategory и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getCachedCategory(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQCategory через completion из сохранённого кэша. Если запрос завершился с ошибкой, то полученная категория будет равна nil.

Параметр id – ID категории блока часто задаваемых вопросов. Тип – Int.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQCategory и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getItem(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQItem через completion. Если запрос завершился с ошибкой, то полученная страница будет равна nil.

Параметр id – ID страница блока часто задаваемых вопросов. Тип – String.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQItem и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getStructure(id:completion:)</h3>
Метод, который используется для получения объекта класса FAQStructure через completion. Если запрос завершился с ошибкой, то полученное дерево (структура) будет равно nil.

Параметр id – ID вершины, которая будет корнем дерева (структуры) блока часто задаваемых вопросов. Тип – Int.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа FAQStructure и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра like(item:)<h3>
Метод, который позволяет поставить отметку "нравится" для статьи.

Параметр item – страница, которой необходимо поставить оценку. Тип – FAQItem.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра dislike(item:)</h3>
Метод, который позволяет поставить отметку "не нравится" для статьи.

Параметр item – страница, которой необходимо поставить оценку. Тип – FAQItem.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра search(query:category:limitOfItems:completion:)</h3>
Метод, который позволяет найти статьи по ключевому слову.

Параметр query – запрос, по которому осуществляется поиск. Тип – String.

Параметр category – id категории, в которой осуществляется поиск. Тип – Int.

Параметр limitOfItems – число, не больше которого нужно вернуть статей.

Параметр completion – замыкание, которое выполняется после завершения выполнения метода. Замыкание содержит один параметр типа массив FAQSearchItem и не имеет возвращаемого типа.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().


<h2>перечисляемый тип FAQAccessError</h2>
Значение типа соответствуют ошибкам, которые могут выбрасываться некоторыми методами протоколов FAQ.

<h3>случай INVALID_THREAD</h3>
Возникает, когда метод был вызван не из потока, в котором был создан экземпляр блока часто задаваемых вопросов.

<h3>случай INVALID_SESSION</h3>
Возникает при попытке использования методов недействительного экземпляра FAQ (например, после того, как на нем был вызван метод destroy()).

<h2>протокол FAQCategory</h2>
Представление категории блока часто задаваемых вопросов. Предоставляет методы получения информации о категории.

Объекты FAQCategory могут быть получены с помощью completion в методе getCategory(id:completion)

<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор категории. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок категории. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getItems()</h3>
Категория содержит страницы блока часто задаваемых вопросов.

Не принимает параметров.

Возвращает страницы, принадлежащих категории. Тип – [FAQItem].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getSubcategories()</h3>
Категория содержит подкатегории. Для удобства данный метод возвращает информацию о подкатегориях без её страниц и подкатегорий.

Не принимает параметров.

Возвращает информацию о подкатегориях, принадлежащих категории. Тип – [FAQCategoryInfo].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h2>протокол FAQCategoryInfo</h2>
Представление информации о категории блока часто задаваемых вопросов. Предоставляет методы получения идентификатора и заголовка категории.

Объекты FAQCategoryInfo могут быть получены с помощью метода getSubcategories().

<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор категории. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок категории. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>протокол FAQItem</h3>
Представление страницы блока часто задаваемых вопросов. Предоставляет методы получения информации о странице.

Объекты FAQItem могут быть получены с completion функции getItem(id:completion:).

<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getCategories()</h3>
Страница может принадлежать нескольким категориям.

Не принимает параметров.

Возвращает идентификаторы категорий, которым принадлежи страница. Тип – [Int].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTags()</h3>
У страницы есть набор тэгов.

Не принимает параметров.

Возвращает список тэгов, которыми отмечена страница. Тип – [String].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getContent()</h3>
Не принимает параметров.

Возвращает содержание страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getLikeCount()</h3>
Страница содержит количество отметок "Нравится".

Не принимает параметров.

Возвращает количество отметок "Нравится" страницы. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getDislikeCount()</h3>
Страница содержит количество отметок "Не нравится".

Не принимает параметров.

Возвращает количество отметок "Не нравится" страницы. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getUserRate()</h3>
Страница может быть отмечена пользователем.

Возварщает оценку пользователя. Тип – UserRate.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h2>перечисляемый тип UserRate</h2>
Страница может быть отмечена пользователем.

<h3>случай LIKE</h3>
Пользователю понравилась страница.

<h3>случай DISLIKE</h3>
Пользователю не понравилась страница.

<h3>случай NO_RATE</h3>
Страница не оценена пользователем.

<h2>протокол FAQSearchItem</h2>
Краткая информация о страницах, полученных в результате поиска по ключевому слову.

<h3>метод getID()</h3>
Не принимает параметров.

Возвращает идентификатор страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getScore()</h3>
У страницы есть оценка поиска. Чем больше оценка, тем больше страница подходит под поисковой запрос.

Не принимает параметров.

Возвращает оценку поиска. Тип – Double.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h2>протокол FAQStructure</h2>
Представление дерева (структуры) блока часто задаваемых вопросов. Предоставляет методы получения информации о дереве блока часто задаваемых вопросов.

Объекты FAQStructure могут быть получены с помощью completion метода getStructure(id:completion).

<h3>метод getId()</h3>
У дерева есть корневой элемент.

Не принимает параметров.

Возвращает идентификатор корневого элемента дерева. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок корня. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getType()</h3>
Корень дерева может быть категорией или страницей.

Не принимает параметров.

Возвращает тип корневого элемента. Тип – RootType.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.

<h3>метод getChildren()</h3>
Не принимает параметров.

Возвращает поддеревья, корнями которых являются прямые потомки корня дерева (структуры). Тип – [FAQStructure].

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>перечисляемый тип RootType</h2>
Возможные типы корня дерева блока часто задаваемых вопросов (см. метод getType() протокола FAQStructure).

<h3>случай ITEM</h3>
Корень дерева является страницей.

<h3>случай CATEGORY</h3>
Корень дерева является категорией.

<h3>случай UNKNOWN</h3>
Корень дерева имеет неизвестный тип для данной версии SDK.
